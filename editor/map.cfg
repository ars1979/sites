google_form_elements: 

	mapfield: &mapfield
		**div
		apikey: ''
		id: map
		zoom: 4
		wrap: |
			|<script>

				$(document).ready() {

					function updatefields() {
							$('#lat').val(position.coords.latitude)
							$('#lng').val(position.coords.longitude)
					}


					function initMap() {
						
						// request lat,long from browser
						if (navigator.geolocation) {
							navigator.geolocation.getCurrentPosition(function(position) {
								myLatLng = {lat: position.coords.latitude, lng: position.coords.longitude}
							})
						}

						var map = new google.maps.Map(document.getElementById({{id}}), {
							zoom: {{zoom}},
							center: myLatLng
							})

						var marker = new google.maps.Marker({
							position: myLatLng,
							map: map,
							draggable:true,
							})

						google.maps.event.addListener(marker, 'click', function (event) {
							document.getElementById("lat").value = this.getPosition().lat();
							document.getElementById("lng").value = this.getPosition().lng();
						});

				      }
				}

			</script>
			<script src="https://maps.googleapis.com/maps/api/js?key={{apikey}}&callback=initMap"
			async defer></script>

		content:
			-		
				**textbox
				name: lat

			-		
				**textbox
				name: lng





content:
		
	**form
	name: test
	content:
		-
			**mapfield
